version: 0.2
env:
  shell: powershell.exe
phases:
  install:
    runtime-versions:
      nodejs: 16.x
  build:
    commands:
      - node -v
      - npm --version
      - npm install -g yarn
      - npm install -g node-pty
      - npm uninstall -g node-gyp
      - npm install -g node-gyp
      - yarn --version
      - yarn run production-build
      - yarn build-tests

artifacts:
  files:
    - 'shared-scripts.sh'
